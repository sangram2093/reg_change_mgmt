<!DOCTYPE html>
<html>
<head>
    <title>Graph Comparison</title>
    <script type="text/javascript" src="https://unpkg.com/vis-network@9.1.2/dist/vis-network.min.js"></script>
    <style>
        #graph-container {
            display: flex;
            justify-content: space-around;
            gap: 20px;
            width: 100%;
        }
        .graph {
            width: 48%;
            height: 700px;
            border: 1px solid #aaa;
        }
    </style>
</head>
<body>
    <h2>Graph Comparison: Old vs New Regulations</h2>
    <div id="graph-container">
        <div>
            <h3>Old Graph</h3>
            <div id="oldGraph" class="graph"></div>
        </div>
        <div>
            <h3>New Graph</h3>
            <div id="newGraph" class="graph"></div>
        </div>
    </div>

    <script>
        function drawGraph(containerId, version) {
            fetch(`/graph_data/${version}`)
                .then(res => res.json())
                .then(data => {
                    const container = document.getElementById(containerId);
                    const options = {
                        nodes: { shape: 'dot', size: 15, font: { size: 16 } },
                        edges: { arrows: 'to', font: { align: 'middle' } },
                        physics: { stabilization: true }
                    };
                    const network = new vis.Network(container, data, options);
                })
                .catch(err => {
                    console.error("Error loading graph:", version, err);
                });
        }

        drawGraph("oldGraph", "old");
        drawGraph("newGraph", "new");
    </script>
</body>
</html>
